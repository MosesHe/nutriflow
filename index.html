<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NutriFlow - æ™ºèƒ½è¥å…»åŠ©æ‰‹</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .nav-bar {
            background: white;
            border-bottom: 1px solid #e2e8f0;
            padding: 0;
        }

        .nav-tabs {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .nav-tab {
            flex: 1;
            text-align: center;
        }

        .nav-tab button {
            width: 100%;
            padding: 20px 30px;
            border: none;
            background: none;
            font-size: 16px;
            font-weight: 600;
            color: #64748b;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }

        .nav-tab button:hover {
            background: #f8fafc;
            color: #43cea2;
        }

        .nav-tab button.active {
            color: #43cea2;
            border-bottom-color: #43cea2;
        }

        .header {
            background: linear-gradient(135deg, #43cea2 0%, #185a9d 100%);
            padding: 30px;
            text-align: center;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 300;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .search-section {
            padding: 30px;
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
        }

        .search-box {
            max-width: 600px;
            margin: 0 auto;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 15px 20px 15px 50px;
            font-size: 16px;
            border: 2px solid #e2e8f0;
            border-radius: 50px;
            outline: none;
            transition: all 0.3s ease;
            background: white;
        }

        .search-input:focus {
            border-color: #43cea2;
            box-shadow: 0 0 0 3px rgba(67, 206, 162, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            color: #64748b;
        }

        .category-nav {
            padding: 20px 30px;
            background: white;
            border-bottom: 1px solid #e2e8f0;
            overflow-x: auto;
        }

        .category-tabs {
            display: flex;
            gap: 10px;
            min-width: fit-content;
        }

        .category-tab {
            padding: 10px 20px;
            background: #f1f5f9;
            border: none;
            border-radius: 25px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .category-tab.active {
            background: #43cea2;
            color: white;
        }

        .category-tab:hover {
            background: #e2e8f0;
        }

        .category-tab.active:hover {
            background: #2ca889;
        }

        .content {
            padding: 30px;
        }

        .nutrition-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .nutrition-table thead {
            background: #43cea2;
            color: white;
        }

        .nutrition-table th {
            padding: 15px 20px;
            text-align: left;
            font-weight: 600;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .nutrition-table tbody tr {
            border-bottom: 1px solid #f1f5f9;
            transition: all 0.3s ease;
        }

        .nutrition-table tbody tr:hover {
            background: #f8fafc;
        }

        .nutrition-table tbody tr:last-child {
            border-bottom: none;
        }

        .nutrition-table td {
            padding: 20px;
            vertical-align: top;
        }

        .food-name-cell {
            font-weight: 600;
            color: #1e293b;
            min-width: 150px;
        }

        .category-cell {
            color: #64748b;
            font-size: 14px;
            min-width: 100px;
        }

        .carb-rate-cell {
            font-weight: 700;
            color: #43cea2;
            font-size: 16px;
            min-width: 80px;
        }

        .gi-cell {
            min-width: 80px;
        }

        .description-cell {
            color: #64748b;
            line-height: 1.6;
            font-size: 14px;
            max-width: 400px;
        }

        .gi-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: inline-block;
        }

        .gi-é«˜ {
            background: #fee2e2;
            color: #dc2626;
        }

        .gi-ä¸­ {
            background: #fef3c7;
            color: #d97706;
        }

        .gi-ä½ {
            background: #dcfce7;
            color: #16a34a;
        }

        .category-section {
            margin-bottom: 40px;
        }

        .category-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #43cea2;
            display: inline-block;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #64748b;
        }

        .empty-state svg {
            width: 80px;
            height: 80px;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .meal-calculator {
            display: none;
            padding: 30px;
        }

        .meal-calculator.active {
            display: block;
        }

        .daily-input-section {
            background: #f8fafc;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .input-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .input-item {
            display: flex;
            flex-direction: column;
        }

        .input-label {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 8px;
        }

        .input-field {
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .input-field:focus {
            outline: none;
            border-color: #43cea2;
        }

        .calculate-btn {
            background: #43cea2;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .calculate-btn:hover {
            background: #2ca889;
        }

        .meals-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .meal-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .meal-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 15px;
            text-align: center;
        }

        .meal-targets {
            background: #f1f5f9;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .target-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .target-item:last-child {
            margin-bottom: 0;
        }

        .target-label {
            color: #64748b;
        }

        .target-value {
            font-weight: 600;
            color: #43cea2;
        }

        .food-selector {
            margin-bottom: 15px;
        }

        .food-select {
            width: 100%;
            padding: 10px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .food-select:focus {
            outline: none;
            border-color: #43cea2;
        }

        .selected-foods {
            margin-top: 15px;
        }

        .selected-food-item {
            background: #e6f7ff;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .food-weight {
            font-weight: 600;
            color: #43cea2;
        }

        .remove-food {
            background: #ef4444;
            color: white;
            border: none;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
        }

        .add-food-btn {
            background: #43cea2;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            width: 100%;
        }

        .nutrition-summary {
            background: #f8fafc;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .page-content {
            display: none;
        }

        .page-content.active {
            display: block;
        }

        .calorie-calculator {
            padding: 30px;
        }

        .user-info-section {
            background: #f8fafc;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .info-group {
            display: flex;
            flex-direction: column;
        }

        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .results-section {
            margin-bottom: 30px;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .result-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .result-card h3 {
            color: #64748b;
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 15px;
        }

        .result-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: #43cea2;
            line-height: 1;
        }

        .result-unit, .result-status {
            font-size: 14px;
            color: #64748b;
            margin-top: 8px;
        }

        .calorie-breakdown {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .breakdown-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 20px;
            text-align: center;
        }

        .breakdown-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #f1f5f9;
        }

        .breakdown-item:last-child {
            border-bottom: none;
        }

        .breakdown-item.intake {
            font-weight: 600;
        }

        .breakdown-item.intake .breakdown-value {
            color: #0ea5e9;
            font-weight: 700;
            font-size: 1.1rem;
        }

        .breakdown-label {
            color: #64748b;
        }

        .breakdown-value {
            font-weight: 600;
            color: #43cea2;
        }

        .detailed-input-section {
            background: #f8fafc;
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
        }

        .detailed-input-section small {
            display: block;
            color: #64748b;
            font-size: 12px;
            margin-top: 4px;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }

            .nutrition-table {
                font-size: 14px;
            }

            .nutrition-table th,
            .nutrition-table td {
                padding: 12px 8px;
            }

            .description-cell {
                max-width: 200px;
            }

            .info-grid {
                grid-template-columns: 1fr;
            }

            .results-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="nav-bar">
            <ul class="nav-tabs">
                <li class="nav-tab">
                    <button class="nav-btn active" data-page="nutrition">è¥å…»æˆåˆ†è¡¨</button>
                </li>
                <li class="nav-tab">
                    <button class="nav-btn" data-page="calculator">ä¸‰é¤æ‘„å…¥è®¡ç®—</button>
                </li>
                <li class="nav-tab">
                    <button class="nav-btn" data-page="calorie">çƒ­é‡è®¡ç®—å™¨</button>
                </li>
            </ul>
        </div>

        <!-- è¥å…»æˆåˆ†è¡¨é¡µé¢ -->
        <div class="page-content active" id="nutrition-page">
            <div class="header">
                <h1>NutriFlow</h1>
                <p>æ™ºèƒ½è¥å…»åŠ©æ‰‹ - è¥å…»æˆåˆ†è¡¨</p>
            </div>

            <div class="search-section">
                <div class="search-box">
                    <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="M21 21L16.65 16.65"></path>
                    </svg>
                    <input type="text" class="search-input" placeholder="æœç´¢é£Ÿç‰©..." id="searchInput">
                </div>
            </div>

            <div class="category-nav">
                <div class="category-tabs" id="categoryTabs">
                    <button class="category-tab active" data-category="all">å…¨éƒ¨</button>
                </div>
            </div>

            <div class="content" id="content">
                <div class="nutrition-container" id="nutritionContainer">
                </div>
            </div>
        </div>

        <!-- ä¸‰é¤æ‘„å…¥è®¡ç®—é¡µé¢ -->
        <div class="page-content" id="calculator-page">
            <div class="header">
                <h1>NutriFlow</h1>
                <p>æ™ºèƒ½è¥å…»åŠ©æ‰‹ - ä¸‰é¤æ‘„å…¥è®¡ç®—</p>
            </div>
            
            <div class="meal-calculator">
                <div class="daily-input-section">
                    <h3 style="margin-bottom: 20px; color: #1e293b;">æ¯æ—¥è¥å…»éœ€æ±‚</h3>
                    <div class="input-group">
                        <div class="input-item">
                            <label class="input-label">ç¢³æ°´åŒ–åˆç‰©æ€»é‡ (å…‹)</label>
                            <input type="number" class="input-field" id="dailyCarbs" placeholder="ä¾‹å¦‚ï¼š300">
                        </div>
                        <div class="input-item">
                            <label class="input-label">è›‹ç™½è´¨æ€»é‡ (å…‹)</label>
                            <input type="number" class="input-field" id="dailyProtein" placeholder="ä¾‹å¦‚ï¼š120">
                        </div>
                    </div>
                    <button class="calculate-btn" onclick="calculateMealTargets()">è®¡ç®—æ¯é¤ç›®æ ‡</button>
                </div>

                <div class="meals-grid" id="mealsGrid" style="display: none;">
                    <!-- æ—©é¤ -->
                    <div class="meal-card">
                        <h3 class="meal-title">ğŸŒ… æ—©é¤</h3>
                        <div class="meal-targets" id="breakfast-targets">
                            <div class="target-item">
                                <span class="target-label">ç¢³æ°´åŒ–åˆç‰©:</span>
                                <span class="target-value" id="breakfast-carbs">0g</span>
                            </div>
                            <div class="target-item">
                                <span class="target-label">è›‹ç™½è´¨:</span>
                                <span class="target-value" id="breakfast-protein">0g</span>
                            </div>
                        </div>
                        <div class="food-selector">
                            <select class="food-select" id="breakfast-food-select">
                                <option value="">é€‰æ‹©é£Ÿç‰©</option>
                            </select>
                            <button class="add-food-btn" onclick="addFoodToMeal('breakfast')">æ·»åŠ é£Ÿç‰©</button>
                        </div>
                        <div class="selected-foods" id="breakfast-foods"></div>
                        <div class="nutrition-summary" id="breakfast-summary">
                            <div class="summary-item">
                                <span>å½“å‰ç¢³æ°´:</span>
                                <span id="breakfast-current-carbs">0g</span>
                            </div>
                            <div class="summary-item">
                                <span>å½“å‰è›‹ç™½è´¨:</span>
                                <span id="breakfast-current-protein">0g</span>
                            </div>
                        </div>
                    </div>

                    <!-- åˆé¤ -->
                    <div class="meal-card">
                        <h3 class="meal-title">ğŸŒ åˆé¤</h3>
                        <div class="meal-targets" id="lunch-targets">
                            <div class="target-item">
                                <span class="target-label">ç¢³æ°´åŒ–åˆç‰©:</span>
                                <span class="target-value" id="lunch-carbs">0g</span>
                            </div>
                            <div class="target-item">
                                <span class="target-label">è›‹ç™½è´¨:</span>
                                <span class="target-value" id="lunch-protein">0g</span>
                            </div>
                        </div>
                        <div class="food-selector">
                            <select class="food-select" id="lunch-food-select">
                                <option value="">é€‰æ‹©é£Ÿç‰©</option>
                            </select>
                            <button class="add-food-btn" onclick="addFoodToMeal('lunch')">æ·»åŠ é£Ÿç‰©</button>
                        </div>
                        <div class="selected-foods" id="lunch-foods"></div>
                        <div class="nutrition-summary" id="lunch-summary">
                            <div class="summary-item">
                                <span>å½“å‰ç¢³æ°´:</span>
                                <span id="lunch-current-carbs">0g</span>
                            </div>
                            <div class="summary-item">
                                <span>å½“å‰è›‹ç™½è´¨:</span>
                                <span id="lunch-current-protein">0g</span>
                            </div>
                        </div>
                    </div>

                    <!-- æ™šé¤ -->
                    <div class="meal-card">
                        <h3 class="meal-title">ğŸŒ™ æ™šé¤</h3>
                        <div class="meal-targets" id="dinner-targets">
                            <div class="target-item">
                                <span class="target-label">ç¢³æ°´åŒ–åˆç‰©:</span>
                                <span class="target-value" id="dinner-carbs">0g</span>
                            </div>
                            <div class="target-item">
                                <span class="target-label">è›‹ç™½è´¨:</span>
                                <span class="target-value" id="dinner-protein">0g</span>
                            </div>
                        </div>
                        <div class="food-selector">
                            <select class="food-select" id="dinner-food-select">
                                <option value="">é€‰æ‹©é£Ÿç‰©</option>
                            </select>
                            <button class="add-food-btn" onclick="addFoodToMeal('dinner')">æ·»åŠ é£Ÿç‰©</button>
                        </div>
                        <div class="selected-foods" id="dinner-foods"></div>
                        <div class="nutrition-summary" id="dinner-summary">
                            <div class="summary-item">
                                <span>å½“å‰ç¢³æ°´:</span>
                                <span id="dinner-current-carbs">0g</span>
                            </div>
                            <div class="summary-item">
                                <span>å½“å‰è›‹ç™½è´¨:</span>
                                <span id="dinner-current-protein">0g</span>
                            </div>
                        </div>
                    </div>

                    <!-- é›¶é£Ÿ/å¤œå®µ -->
                    <div class="meal-card">
                        <h3 class="meal-title">ğŸª é›¶é£Ÿ/å¤œå®µ</h3>
                        <div class="meal-targets" id="snack-targets">
                            <div class="target-item">
                                <span class="target-label">ç¢³æ°´åŒ–åˆç‰©:</span>
                                <span class="target-value" id="snack-carbs">0g</span>
                            </div>
                            <div class="target-item">
                                <span class="target-label">è›‹ç™½è´¨:</span>
                                <span class="target-value" id="snack-protein">0g</span>
                            </div>
                        </div>
                        <div class="food-selector">
                            <select class="food-select" id="snack-food-select">
                                <option value="">é€‰æ‹©é£Ÿç‰©</option>
                            </select>
                            <button class="add-food-btn" onclick="addFoodToMeal('snack')">æ·»åŠ é£Ÿç‰©</button>
                        </div>
                        <div class="selected-foods" id="snack-foods"></div>
                        <div class="nutrition-summary" id="snack-summary">
                            <div class="summary-item">
                                <span>å½“å‰ç¢³æ°´:</span>
                                <span id="snack-current-carbs">0g</span>
                            </div>
                            <div class="summary-item">
                                <span>å½“å‰è›‹ç™½è´¨:</span>
                                <span id="snack-current-protein">0g</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- çƒ­é‡è®¡ç®—å™¨é¡µé¢ -->
        <div class="page-content" id="calorie-page">
            <div class="header">
                <h1>NutriFlow</h1>
                <p>æ™ºèƒ½è¥å…»åŠ©æ‰‹ - çƒ­é‡è®¡ç®—å™¨</p>
            </div>
            
            <div class="calorie-calculator">
                <div class="user-info-section">
                    <h3 style="margin-bottom: 20px; color: #1e293b;">åŸºæœ¬ä¿¡æ¯</h3>
                    <div class="info-grid">
                        <div class="info-group">
                            <label class="input-label">æ€§åˆ«</label>
                            <select class="input-field" id="gender">
                                <option value="">è¯·é€‰æ‹©</option>
                                <option value="male">ç”·æ€§</option>
                                <option value="female">å¥³æ€§</option>
                            </select>
                        </div>
                        <div class="info-group">
                            <label class="input-label">å¹´é¾„</label>
                            <input type="number" class="input-field" id="age" placeholder="ä¾‹å¦‚ï¼š25">
                        </div>
                        <div class="info-group">
                            <label class="input-label">èº«é«˜ (cm)</label>
                            <input type="number" class="input-field" id="height" placeholder="ä¾‹å¦‚ï¼š170">
                        </div>
                        <div class="info-group">
                            <label class="input-label">ä½“é‡ (kg)</label>
                            <input type="number" class="input-field" id="weight" placeholder="ä¾‹å¦‚ï¼š70">
                        </div>
                        <div class="info-group">
                            <label class="input-label">ç›®æ ‡</label>
                            <select class="input-field" id="goal">
                                <option value="">è¯·é€‰æ‹©</option>
                                <option value="bulk">å¢è‚Œ</option>
                                <option value="cut-no-training">å‡è„‚ï¼ˆæ— åŠ›é‡è®­ç»ƒï¼‰</option>
                                <option value="cut-with-training">å‡è„‚ï¼ˆæœ‰åŠ›é‡è®­ç»ƒï¼‰</option>
                            </select>
                        </div>
                        <div class="info-group">
                            <label class="input-label">æœ‰æ°§è®­ç»ƒæ¶ˆè€— (å¤§å¡/å¤©)</label>
                            <input type="number" class="input-field" id="cardioConsumption" placeholder="ä¾‹å¦‚ï¼š200" value="0">
                            <small style="color: #64748b; font-size: 12px; margin-top: 4px;">æ ¹æ®æœ‰æ°§è¿åŠ¨å¼ºåº¦å’Œæ—¶é•¿ä¼°ç®—</small>
                        </div>
                        <div class="info-group">
                            <label class="input-label">åŠ›é‡è®­ç»ƒæ°´å¹³</label>
                            <select class="input-field" id="strengthLevel">
                                <option value="">è¯·é€‰æ‹©åŠ›é‡è®­ç»ƒæ°´å¹³</option>
                                <option value="beginner">æ–°æ‰‹</option>
                                <option value="intermediate">æœ‰åŸºç¡€</option>
                                <option value="advanced">è€æ‰‹</option>
                            </select>
                            <small style="color: #64748b; font-size: 12px; margin-top: 4px;">ä»…å¯¹æœ‰åŠ›é‡è®­ç»ƒçš„ç›®æ ‡æœ‰æ•ˆ</small>
                        </div>
                    </div>
                    <button class="calculate-btn" onclick="calculateCalories()" style="margin-top: 20px;">è®¡ç®—çƒ­é‡éœ€æ±‚</button>
                </div>

                <div class="results-section" id="calorieResults" style="display: none;">
                    <div class="results-grid">
                        <div class="result-card">
                            <h3>BMIæŒ‡æ•°</h3>
                            <div class="result-value" id="bmiValue">0</div>
                            <div class="result-status" id="bmiStatus">-</div>
                        </div>
                        <div class="result-card">
                            <h3>åŸºç¡€ä»£è°¢</h3>
                            <div class="result-value" id="bmrValue">0</div>
                            <div class="result-unit">å¤§å¡/å¤©</div>
                        </div>
                    </div>

                    <div class="calorie-breakdown" id="calorieBreakdown">
                        <!-- çƒ­é‡åˆ†è§£è¯¦æƒ…å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let nutritionData = [
            {category: "ç±³ç±»ä¸»é£Ÿ", food: "ç”Ÿç±³", carbohydrate: "75%", gi: "é«˜", description: "å¤§ç±³ã€ç³™ç±³ã€ç³¯ç±³ã€å°ç±³ã€é»‘ç±³ã€ç´«ç±³ç­‰ä¸åˆ†å“ç§å‡æ˜¯"},
            {category: "ç±³ç±»ä¸»é£Ÿ", food: "ç±³é¥­ï¼ˆå¾ˆè½¯ï¼‰", carbohydrate: "25%", gi: "é«˜", description: "åªæœ‰è‡ªå·±åšé¥­æ‰å¯èƒ½è¿™ä¹ˆè½¯ï¼Œå¤–é£Ÿå‡ ä¹ä¸å¯èƒ½"},
            {category: "ç±³ç±»ä¸»é£Ÿ", food: "ç±³é¥­ï¼ˆä¸€èˆ¬ï¼‰", carbohydrate: "30%", gi: "é«˜", description: "å¤–é£Ÿçš„ä¸€èˆ¬ç±³é¥­ï¼Œé•¿æ–¹å½¢çš„æ ‡å‡†å¤–å–ç›’ä¸€èˆ¬100-120gç¢³æ°´/ç›’"},
            {category: "ç±³ç±»ä¸»é£Ÿ", food: "ç±³é¥­ï¼ˆåç¡¬ï¼‰", carbohydrate: "35%", gi: "é«˜", description: "å¤–é£Ÿçš„ä¸€èˆ¬ç±³é¥­ï¼Œé•¿æ–¹å½¢çš„æ ‡å‡†å¤–å–ç›’ä¸€èˆ¬100-120gç¢³æ°´/ç›’"},
            {category: "ç±³ç±»ä¸»é£Ÿ", food: "ç±³ç²¥ï¼ˆç¨€ï¼‰", carbohydrate: "10%", gi: "é«˜", description: "ç²˜ç¨ åº¦ç±»ä¼¼å°ç±³ç²¥çš„ç¨€é¥­"},
            {category: "ç±³ç±»ä¸»é£Ÿ", food: "ç±³ç²¥ï¼ˆä¸€èˆ¬ï¼‰", carbohydrate: "13%", gi: "é«˜", description: "ç²˜ç¨ åº¦æ¯”å°ç±³ç²¥è¦ç¨ çš„ç¨€é¥­"},
            {category: "ç±³ç±»ä¸»é£Ÿ", food: "ç±³çº¿ï¼ˆç†Ÿï¼‰", carbohydrate: "33%", gi: "é«˜", description: "ç±³çº¿é¥±è…¹æ„Ÿå¾ˆä½ï¼Œå¤–é£Ÿä¸€èˆ¬ä¸ä½äº100gç¢³æ°´/ä»½"},
            {category: "ç±³ç±»ä¸»é£Ÿ", food: "ç±³ç³Šï¼ˆç”Ÿï¼‰", carbohydrate: "75%", gi: "é«˜", description: 'ç”µå•†æœç´¢"è¥å…»ç±³ç²‰"æˆ–"æˆäººç±³ç²‰"æˆ–"å¥èº«ç±³ç³Š"ï¼Œä¸è¦ä¹°æˆæ˜‚è´µçš„å©´å„¿ç±³ç²‰'},
            {category: "ç±³ç±»ä¸»é£Ÿ", food: "è‚ ç²‰ï¼ˆç†Ÿï¼‰", carbohydrate: "20%", gi: "é«˜", description: "å¹¿ä¸œåœ°æ–¹ä¸»é£Ÿï¼Œä¸€èˆ¬50-70gç¢³æ°´/ä»½"},
            {category: "ç±³ç±»ä¸»é£Ÿ", food: "ç²½å­", carbohydrate: "50%", gi: "é«˜", description: "å¯åƒç™½ç²½ã€è±†æ²™ç²½ï¼Œä¸åƒè‚‰ç²½ï¼Œé¥±è…¹æ„Ÿå¾ˆä½ï¼Œä¸€èˆ¬40-60gç¢³æ°´/ä¸ª"},
            
            {category: "éº¦ç±»ä¸»é£Ÿ", food: "åˆ‡ç‰‡é¢åŒ…", carbohydrate: "50%", gi: "é«˜", description: "æ™®é€šåˆ‡ç‰‡é¢åŒ…çš„è„‚è‚ªç‡ä½äº8%ï¼ˆæ€§è´¨æ˜¯ç¢³æ°´é£Ÿç‰©ï¼‰ï¼ŒèŠ±å¼é¢åŒ…è„‚è‚ªç‡é«˜äº10%ç”šè‡³15%ï¼ˆæ€§è´¨æ˜¯è½»åº¦ç³–æ²¹æ··åˆç‰©ï¼‰"},
            {category: "éº¦ç±»ä¸»é£Ÿ", food: "é¦’å¤´/èŠ±å·/é¦/é¦•", carbohydrate: "50%", gi: "é«˜", description: ""},
            {category: "éº¦ç±»ä¸»é£Ÿ", food: "æŒ‚é¢ï¼ˆç”Ÿï¼‰", carbohydrate: "75%", gi: "ä¸­", description: "æŒ‚é¢æ˜¯é¢æ¡é‡Œå°‘æœ‰çš„ä¸­ç­‰GIç¢³æ°´ï¼Œä¸å»ºè®®ç”¨äºç»ƒåé¤"},
            {category: "éº¦ç±»ä¸»é£Ÿ", food: "æ„é¢ï¼ˆç”Ÿï¼‰", carbohydrate: "75%", gi: "ä½", description: "æ„é¢æ˜¯é¢æ¡é‡Œå°‘æœ‰çš„ä½GIç¢³æ°´ï¼Œä¸èƒ½ç”¨äºç»ƒåé¤"},
            {category: "éº¦ç±»ä¸»é£Ÿ", food: "é²œé¢ï¼ˆç”Ÿï¼‰", carbohydrate: "60%", gi: "é«˜", description: "é²œé¢ï¼ŒæŒ‡ç°å’Œç°æ‹‰çš„æœªä¸‹é”…çš„é¢æ¡ï¼Œå«æ°´é‡é«˜äºå¹²é¢ï¼Œå› æ­¤ç¢³æ°´ç‡ç¨ä½ï¼Œå¤–é£Ÿä¸€èˆ¬ä¸ä½äº100gç¢³æ°´/ä»½"},
            {category: "éº¦ç±»ä¸»é£Ÿ", food: "å‡‰é¢ï¼ˆç†Ÿï¼‰", carbohydrate: "30%", gi: "é«˜", description: ""},
            {category: "éº¦ç±»ä¸»é£Ÿ", food: "ç²—é¢ï¼ˆç†Ÿï¼‰", carbohydrate: "30%", gi: "é«˜", description: "ç²—é¢ï¼ŒæŒ‡åƒå‡‰é¢ç²—ç»†çš„é¢æ¡ï¼Œå¸æ°´ç‡æ¯”ç»†é¢ä½ä¸€äº›ï¼Œå› æ­¤ç¢³æ°´ç‡ç¨é«˜ä¸€äº›ï¼Œå¤–é£Ÿä¸€èˆ¬ä¸ä½äº100gç¢³æ°´/ä»½"},
            {category: "éº¦ç±»ä¸»é£Ÿ", food: "æ„é¢ï¼ˆç†Ÿï¼‰", carbohydrate: "30%", gi: "ä½", description: "æ„é¢æ˜¯é¢æ¡é‡Œå°‘æœ‰çš„ä½GIç¢³æ°´ï¼Œä¸èƒ½ç”¨äºç»ƒåé¤"},
            {category: "éº¦ç±»ä¸»é£Ÿ", food: "ç»†é¢ï¼ˆç†Ÿï¼‰", carbohydrate: "23%", gi: "é«˜", description: "ç»†é¢ï¼ŒæŒ‡åƒæŒ‚é¢ç²—ç»†çš„é¢æ¡ï¼Œå¸æ°´ç‡æ¯”ç²—é¢é«˜ä¸€äº›ï¼Œå› æ­¤ç¢³æ°´ç‡ç¨ä½ä¸€äº›ï¼Œå¤–é£Ÿä¸€èˆ¬ä¸ä½äº100gç¢³æ°´/ä»½"},
            {category: "éº¦ç±»ä¸»é£Ÿ", food: "å·é¥¼/çƒ™é¥¼/é¦•ï¼ˆç†Ÿï¼‰", carbohydrate: "50%", gi: "é«˜", description: "é¢ç²‰ç³Šçƒ¤ç†Ÿæˆé¥¼çŠ¶ä¸»é£Ÿï¼Œå„åœ°åŸŸç§°å‘¼ä¸åŒï¼Œé¥±è…¹æ„Ÿå¾ˆä½ï¼Œå¤–é£Ÿä¸€èˆ¬ä¸ä½äº100gç¢³æ°´/ä»½"},
            
            {category: "å…¶ä»–ä¸»é£Ÿ", food: "çº¢è–¯ï¼ˆç”Ÿ/è’¸ç…®ï¼‰", carbohydrate: "18%", gi: "é«˜", description: ""},
            {category: "å…¶ä»–ä¸»é£Ÿ", food: "çº¢è–¯ï¼ˆçƒ¤ï¼‰", carbohydrate: "23%", gi: "é«˜", description: ""},
            {category: "å…¶ä»–ä¸»é£Ÿ", food: "åœŸè±†ï¼ˆç”Ÿ/è’¸ç…®ï¼‰", carbohydrate: "18%", gi: "ä¸­", description: ""},
            {category: "å…¶ä»–ä¸»é£Ÿ", food: "åœŸè±†ï¼ˆçƒ¤ï¼‰", carbohydrate: "23%", gi: "é«˜", description: ""},
            {category: "å…¶ä»–ä¸»é£Ÿ", food: "çº¢è–¯/åœŸè±†ç²‰ä¸ï¼ˆç”Ÿï¼‰", carbohydrate: "84%", gi: "ä½", description: "æ™’å¹²åˆ¶æˆçš„ç²‰ä¸æ˜¯å°‘æœ‰çš„ä½GIç¢³æ°´ï¼Œä¾‹å¦‚é…¸è¾£ç²‰ã€çº¢è–¯ç²‰ã€åœŸè±†ç²‰ï¼Œä½†æ³¨æ„ç±³ç²‰ç±³çº¿ç­‰æ–°é²œé£Ÿå“ä¸å±äºæ­¤ç±»"},
            {category: "å…¶ä»–ä¸»é£Ÿ", food: "ç”œç‰ç±³ï¼ˆç”Ÿ/è’¸ç…®ï¼‰", carbohydrate: "20%", gi: "ä¸­", description: 'ç”œç‰ç±³ï¼ŒæŒ‡ä¼ ç»Ÿç‰ç±³ï¼Œç¢³æ°´ç‡å’ŒGIæ¯”ç³¯ç‰ç±³ä½ä¸å°‘ï¼Œä¸å»ºè®®ç”¨äºç»ƒåé¤ï¼Œç”µå•†å…³é”®è¯"ç¬¨ç‰ç±³"ã€"è€å¼ç‰ç±³"'},
            {category: "å…¶ä»–ä¸»é£Ÿ", food: "ç³¯ç‰ç±³ï¼ˆç”Ÿ/è’¸ç…®ï¼‰", carbohydrate: "35%", gi: "é«˜", description: 'ç³¯ç‰ç±³ï¼Œå£å‘³è½¯ç³¯ï¼Œé¦™å‘³å¾ˆé‡ï¼Œç¢³æ°´ç‡å’ŒGIæ¯”ç”œç‰ç±³é«˜å¾—å¤šï¼Œç”µå•†å…³é”®è¯"ç³¯ç‰ç±³"'},
            {category: "å…¶ä»–ä¸»é£Ÿ", food: "è´è´å—ç“œ", carbohydrate: "21%", gi: "ä¸­", description: "æ³¨æ„è´è´å—ç“œå’Œä¼ ç»Ÿå—ç“œçš„ç¢³æ°´ç‡å·®åˆ«æå¤§"},
            {category: "å…¶ä»–ä¸»é£Ÿ", food: "ä¼ ç»Ÿå—ç“œ", carbohydrate: "5%", gi: "ä¸­", description: "æ³¨æ„è´è´å—ç“œå’Œä¼ ç»Ÿå—ç“œçš„ç¢³æ°´ç‡å·®åˆ«æå¤§"},
            {category: "å…¶ä»–ä¸»é£Ÿ", food: "å±±è¯ï¼ˆç”Ÿ/è’¸ç…®ï¼‰", carbohydrate: "12%", gi: "ä¸­", description: ""},
            {category: "å…¶ä»–ä¸»é£Ÿ", food: "è—•ç²‰ï¼ˆç”Ÿï¼‰", carbohydrate: "90%", gi: "ä½", description: "å°‘æœ‰çš„ä½GIç¢³æ°´ï¼Œä¸è¦ç”¨äºç»ƒåç¢³æ°´ï¼Œå¿…é¡»ç”¨å¼€æ°´å†²è°ƒï¼Œå†·å´è´¹æ—¶"},
            {category: "å…¶ä»–ä¸»é£Ÿ", food: "ç‡•éº¦éº¸çš®ï¼ˆç”Ÿï¼‰", carbohydrate: "45%", gi: "ä½", description: "å°‘æœ‰çš„ä½GIç¢³æ°´ï¼Œä¸è¦ç”¨äºç»ƒåç¢³æ°´ï¼›é¥±è…¹æ„Ÿæå¼ºï¼›æé«˜è†³é£Ÿçº¤ç»´"},
            {category: "å…¶ä»–ä¸»é£Ÿ", food: "é€Ÿé£Ÿç‡•éº¦ç‰‡ï¼ˆç”Ÿï¼‰", carbohydrate: "60%", gi: "é«˜", description: "é¥±è…¹æ„Ÿæå¼ºï¼Œä¸€èˆ¬ä¸ç”¨äºç»ƒåç¢³æ°´ä»¥å…å¤ªæ’‘ï¼›æé«˜è†³é£Ÿçº¤ç»´"},
            {category: "å…¶ä»–ä¸»é£Ÿ", food: "é€Ÿé£Ÿé»‘éº¦ç‰‡ï¼ˆç”Ÿï¼‰", carbohydrate: "60%", gi: "é«˜", description: "é¥±è…¹æ„Ÿæå¼ºï¼Œä¸€èˆ¬ä¸ç”¨äºç»ƒåç¢³æ°´ä»¥å…å¤ªæ’‘ï¼›è„‚è‚ªç‡æ¯”ç‡•éº¦ç‰‡ä½ä¸å°‘ï¼Œæ˜¯å¾ˆçº¯å‡€çš„ç¢³æ°´ï¼›æé«˜è†³é£Ÿçº¤ç»´"},
            
            {category: "æ–¹ä¾¿é£Ÿå“", food: "äº”è°·é“åœºæ–¹ä¾¿é¢", carbohydrate: "65%", gi: "ä¸­", description: "ç¢³æ°´çº¦50g/è¢‹æˆ–ç›’ï¼Œè™½ç„¶æ–™åŒ…æœ‰æ²¹ï¼Œä½†é¢é¥¼éæ²¹ç‚¸ï¼Œæ‰€ä»¥æ˜¯ç¢³æ°´é£Ÿç‰©ï¼›é«˜é’ ï¼Œå»ºè®®ç²‰åŒ…å‡åŠ"},
            {category: "æ–¹ä¾¿é£Ÿå“", food: "è¾›æ‹‰é¢ï¼ˆæ™®é€šç‰ˆï¼‰", carbohydrate: "65%", gi: "ä¸­", description: "ç¢³æ°´çº¦50g/è¢‹æˆ–ç›’ï¼Œè™½ç„¶é¢é¥¼æ²¹ç‚¸ï¼Œä½†è°ƒæ–™åŒ…æ— æ²¹ï¼Œæ‰€ä»¥æ¥è¿‘äºç¢³æ°´é£Ÿç‰©ï¼›é«˜é’ ï¼Œå»ºè®®ç²‰åŒ…å‡åŠ"},
            {category: "æ–¹ä¾¿é£Ÿå“", food: "è¾›æ‹‰é¢ï¼ˆç©ºç©ºé¢ç‰ˆï¼‰", carbohydrate: "65%", gi: "ä¸­", description: "ç¢³æ°´çº¦50g/è¢‹æˆ–ç›’ï¼Œè°ƒæ–™åŒ…æ— æ²¹ï¼Œé¢é¥¼éæ²¹ç‚¸ï¼Œæ‰€ä»¥æ˜¯å½»åº•çš„ç¢³æ°´é£Ÿç‰©ï¼›é«˜é’ ï¼Œå»ºè®®ç²‰åŒ…å‡åŠ"},
            {category: "æ–¹ä¾¿é£Ÿå“", food: "åº·åŠ›å¿«ç†Ÿæ„å¤§åˆ©é¢", carbohydrate: "32%", gi: "ä½", description: "ç¢³æ°´çº¦60g/è¢‹ï¼Œéœ€å¦è´­æ„å¤§åˆ©é¢é…±æ–™ï¼Œæ³¨æ„æ„é¢æ˜¯å°‘æœ‰çš„ä½GIç¢³æ°´ï¼Œä¸è¦ç”¨äºç»ƒåç¢³æ°´"},
            {category: "æ–¹ä¾¿é£Ÿå“", food: "ç™½å®¶é™ˆè®°é…¸è¾£ç²‰ä¸", carbohydrate: "60%", gi: "ä½", description: "ç¢³æ°´çº¦40g/è¢‹ 60g/ç›’ï¼Œæ–™åŒ…åªæœ‰å‡ å…‹æ²¹ï¼Œæ‰€ä»¥æ˜¯ç¢³æ°´é£Ÿç‰©ï¼›ä½GIï¼Œä¸ç”¨äºç»ƒåç¢³æ°´ï¼›é«˜é’ ï¼Œå»ºè®®ç²‰åŒ…å‡åŠ"},
            
            {category: "ä¾¿æºç¢³æ°´", food: "åˆ‡ç‰‡é¢åŒ…", carbohydrate: "50%", gi: "é«˜", description: "å¸¸è§„åˆ‡ç‰‡é¢åŒ…çš„è„‚è‚ªç‡ä½äº8%ï¼ˆç¢³æ°´é£Ÿç‰©ï¼‰ï¼ŒèŠ±å¼é¢åŒ…è„‚è‚ªç‡é«˜äº15%ï¼ˆè½»åº¦çš„ç³–æ²¹æ··åˆç‰©ï¼‰"},
            {category: "ä¾¿æºç¢³æ°´", food: "æ—ºä»”å°é¦’å¤´ï¼ˆ46gè£…ï¼‰", carbohydrate: "88%", gi: "é«˜", description: "ç¢³æ°´37g/è¢‹ï¼Œä¾¿äºé…é¤ï¼Œä½†çº¦æœ‰1/4æ˜¯è”—ç³–ï¼Œä¸å®œç»å¸¸ä½œä¸ºç»ƒåé¤ï¼ˆå¯èƒ½å¯¼è‡´æœç³–æ‘„å…¥è¶…æ ‡ï¼‰"},
            {category: "ä¾¿æºç¢³æ°´", food: "æ—ºä»”QQç³–", carbohydrate: "72%", gi: "é«˜", description: "å°åŒ…è£…æ˜¯20gè£…ï¼Œç¢³æ°´15g/è¢‹ï¼›å¤§åŒ…è£…æ˜¯70gè£…ï¼Œç¢³æ°´50g/è¢‹"},
            {category: "ä¾¿æºç¢³æ°´", food: "åæœˆç¨»ç”°é¥­å›¢", carbohydrate: "25%", gi: "é«˜", description: 'æœç´¢"åæœˆç¨»ç”°ç³™ç±³é¥­å›¢"ï¼Œç¢³æ°´25g/è¢‹ï¼Œå¼€è¢‹å³é£Ÿ'},
            {category: "ä¾¿æºç¢³æ°´", food: "çº¢èºç‰Œé©´æ‰“æ»š", carbohydrate: "86%", gi: "é«˜", description: 'æœç´¢"çº¢èºé©´æ‰“æ»š"ï¼Œç¢³æ°´10g/å°è¢‹ï¼Œæ­¤å“ç‰Œç”œå‘³å‰‚æ˜¯ç”¨çš„éº¦èŠ½ç³–è€Œéè”—ç³–/æœè‘¡ç³–æµ†ï¼Œä¸ä¼šäº§ç”Ÿæœç³–è¶…æ ‡é—®é¢˜'},
            {category: "ä¾¿æºç¢³æ°´", food: "å±±è¥¿çƒ¤é¦", carbohydrate: "70%", gi: "é«˜", description: 'æœç´¢"å±±è¥¿çº¯ç¢±çƒ¤é¦"ï¼Œå¤§è¢‹è£…ä½†ä¿è´¨æœŸå¾ˆé•¿ï¼Œå£å‘³ç±»ä¼¼è‘±é¦™é¥¼å¹²'},
            {category: "ä¾¿æºç¢³æ°´", food: "éæ²¹ç‚¸å¹²è„†é¢", carbohydrate: "75%", gi: "ä¸­", description: 'æœç´¢"è±«æ´¾éæ²¹ç‚¸å¹²è„†é¢"ï¼Œç¢³æ°´27g/è¢‹ï¼Œå£å‘³ç±»ä¼¼å°æµ£ç†Šç­‰æ²¹ç‚¸å¹²è„†é¢'},
            {category: "ä¾¿æºç¢³æ°´", food: "BHBç†Ÿæ¿æ —", carbohydrate: "35%", gi: "ä¸­", description: 'æœç´¢"BHBæ¿æ —"ï¼Œç¢³æ°´35g/è¢‹'},
            {category: "ä¾¿æºç¢³æ°´", food: "æ²ˆå¤§æˆè±†æ²™é’å›¢", carbohydrate: "65%", gi: "é«˜", description: 'æœç´¢"æ²ˆå¤§æˆè±†æ²™é’å›¢"ï¼Œç¢³æ°´45g/ä¸ªï¼Œæ³¨æ„åªèƒ½æ˜¯è±†æ²™å‘³çš„ï¼Œå…¶ä»–å£å‘³è„‚è‚ªå¤ªé«˜'},
            {category: "ä¾¿æºç¢³æ°´", food: "äº‘ç‰‡ç³•/æ¡ƒç‰‡", carbohydrate: "80%", gi: "é«˜", description: "ä¸€èˆ¬æ˜¯å°è¢‹è£…ï¼Œè‡ªå·±çœ‹åŒ…è£…é‡é‡ï¼Œè”—ç³–ç‡çº¦10%ï¼Œä¸è‡´äºå¯¼è‡´æœç³–æ‘„å…¥è¶…æ ‡"},
            {category: "ä¾¿æºç¢³æ°´", food: "ç±³èŠ±ç³–", carbohydrate: "85%", gi: "é«˜", description: "ä¸€èˆ¬éƒ½å°è¢‹è£…ï¼Œè‡ªå·±çœ‹åŒ…è£…é‡é‡ï¼Œè”—ç³–ç‡çº¦10%ï¼Œä¸è‡´äºå¯¼è‡´æœç³–æ‘„å…¥è¶…æ ‡"},
            {category: "ä¾¿æºç¢³æ°´", food: "å¨ƒå“ˆå“ˆå…«å®ç²¥", carbohydrate: "13%", gi: "é«˜", description: 'æœç´¢"å¨ƒå“ˆå“ˆå…«å®ç²¥"ï¼Œç¢³æ°´47g/ç½'},
            {category: "ä¾¿æºç¢³æ°´", food: "å®çŸ¿åŠ›è¿åŠ¨é¥®æ–™", carbohydrate: "6%", gi: "ä¸­", description: "30gè”—ç³–/ç“¶ï¼Œä¸èƒ½ä½œä¸ºç»ƒåå…¨éƒ¨ç¢³æ°´ï¼Œå‡è¡€ç³–å’Œèƒ°å²›ç´ èƒ½åŠ›è¾ƒå¼±ï¼Œä¸”å¯èƒ½å¯¼è‡´æœç³–æ‘„å…¥è¶…æ ‡"},
            {category: "ä¾¿æºç¢³æ°´", food: "è„‰åŠ¨è¿åŠ¨é¥®æ–™", carbohydrate: "5%", gi: "ä¸­", description: "30gè”—ç³–/ç“¶ï¼Œä¸èƒ½ä½œä¸ºç»ƒåå…¨éƒ¨ç¢³æ°´ï¼Œå‡è¡€ç³–å’Œèƒ°å²›ç´ èƒ½åŠ›è¾ƒå¼±ï¼Œä¸”å¯èƒ½å¯¼è‡´æœç³–æ‘„å…¥è¶…æ ‡"},
            
            {category: "æ°´æœ", food: "å¹²æ£", carbohydrate: "50%", gi: "ä¸­", description: ""},
            {category: "æ°´æœ", food: "é²œæ£", carbohydrate: "30%", gi: "ä¸­", description: ""},
            {category: "æ°´æœ", food: "æ¤°è‚‰", carbohydrate: "30%", gi: "ä¸­", description: ""},
            {category: "æ°´æœ", food: "æ¦´è²", carbohydrate: "28%", gi: "ä¸­", description: ""},
            {category: "æ°´æœ", food: "è èèœœ", carbohydrate: "26%", gi: "ä¸­", description: ""},
            {category: "æ°´æœ", food: "é¦™è•‰", carbohydrate: "22%", gi: "ä¸­", description: ""},
            {category: "æ°´æœ", food: "æå­", carbohydrate: "17%", gi: "ä¸­", description: ""},
            {category: "æ°´æœ", food: "è”æ", carbohydrate: "17%", gi: "ä¸­", description: ""},
            {category: "æ°´æœ", food: "æ¡‚åœ†", carbohydrate: "17%", gi: "ä¸­", description: ""},
            {category: "æ°´æœ", food: "çŒ•çŒ´æ¡ƒ", carbohydrate: "15%", gi: "ä¸­", description: ""},
            {category: "æ°´æœ", food: "è‹¹æœ", carbohydrate: "13%", gi: "ä½", description: ""},
            {category: "æ°´æœ", food: "æ¢¨", carbohydrate: "13%", gi: "ä½", description: ""},
            {category: "æ°´æœ", food: "è½¦å˜å­", carbohydrate: "13%", gi: "ä½", description: ""},
            {category: "æ°´æœ", food: "ç«é¾™æœ", carbohydrate: "13%", gi: "ä¸­", description: ""},
            {category: "æ°´æœ", food: "èŠ’æœ", carbohydrate: "13%", gi: "ä¸­", description: ""},
            {category: "æ°´æœ", food: "æ¡‘è‘š", carbohydrate: "13%", gi: "ä½", description: ""},
            {category: "æ°´æœ", food: "è‘¡è„", carbohydrate: "12%", gi: "ä½", description: ""},
            {category: "æ°´æœ", food: "æ©˜å­", carbohydrate: "12%", gi: "ä½", description: ""},
            {category: "æ°´æœ", food: "æ©™å­", carbohydrate: "11%", gi: "ä½", description: ""},
            {category: "æ°´æœ", food: "æ¡ƒ", carbohydrate: "10%", gi: "ä½", description: ""},
            {category: "æ°´æœ", food: "æŸšå­", carbohydrate: "10%", gi: "ä½", description: ""},
            {category: "æ°´æœ", food: "æ¨±æ¡ƒ", carbohydrate: "10%", gi: "ä½", description: ""},
            {category: "æ°´æœ", food: "è¥¿æ¢…", carbohydrate: "10%", gi: "ä½", description: ""},
            {category: "æ°´æœ", food: "æ‡æ·", carbohydrate: "9%", gi: "ä½", description: ""},
            {category: "æ°´æœ", food: "æå­", carbohydrate: "9%", gi: "ä½", description: ""},
            {category: "æ°´æœ", food: "æ", carbohydrate: "9%", gi: "ä½", description: ""},
            {category: "æ°´æœ", food: "å“ˆå¯†ç“œ", carbohydrate: "8%", gi: "é«˜", description: ""},
            {category: "æ°´æœ", food: "è¥¿ç“œ", carbohydrate: "7%", gi: "é«˜", description: ""},
            {category: "æ°´æœ", food: "æœ¨ç“œ", carbohydrate: "7%", gi: "ä¸­", description: ""},
            {category: "æ°´æœ", food: "åœ£å¥³æœï¼ˆå°ç•ªèŒ„ï¼‰", carbohydrate: "6%", gi: "ä½", description: ""},
            {category: "æ°´æœ", food: "è¥¿çº¢æŸ¿ï¼ˆå¤§ç•ªèŒ„ï¼‰", carbohydrate: "3%", gi: "ä½", description: ""},
            
            {category: "å¹²å‡€è›‹ç™½è´¨", food: "ç˜¦è‚‰ï¼ˆé±¼è™¾ç”Ÿè‚‰ï¼‰", carbohydrate: "15%", gi: "", description: "ä¸€èˆ¬é±¼è™¾çš„å«æ°´ç‡é«˜äºå®¶ç¦½å®¶ç•œï¼Œå› æ­¤è›‹ç™½è´¨ç‡ç¨ä½"},
            {category: "å¹²å‡€è›‹ç™½è´¨", food: "ç˜¦è‚‰ï¼ˆä¸‰æ–‡é±¼/é‡‘æªé±¼ï¼‰", carbohydrate: "20%", gi: "", description: "ä¸‰æ–‡é±¼/é‡‘æªé±¼æœ¬èº«è„‚è‚ªç‡è¾ƒé«˜ï¼Œå¹¶éç˜¦è‚‰ï¼›ä½†å¦‚æœæ˜¯åƒä¸­è…©æˆ–èµ¤èº«ï¼Œä¸”æ˜¯æ— æ²¹ç”Ÿé£Ÿï¼Œåˆ™ä¹Ÿå¯è§†ä¸ºç˜¦è‚‰æ€§è´¨"},
            {category: "å¹²å‡€è›‹ç™½è´¨", food: "ç˜¦è‚‰ï¼ˆå®¶ç¦½å®¶ç•œç”Ÿè‚‰ï¼‰", carbohydrate: "20%", gi: "", description: "æ²¡æœ‰ç™½è‰²è„‚è‚ªå±‚çš„çŒªç‰›ç¾Šè‚‰ï¼Œå»çš®çš„é¸¡é¸­è‚‰ï¼Œæ‰æ˜¯ç˜¦è‚‰æ€§è´¨"},
            {category: "å¹²å‡€è›‹ç™½è´¨", food: "ç˜¦è‚‰ï¼ˆä¸€èˆ¬çš„ç†Ÿè‚‰ï¼‰", carbohydrate: "25%", gi: "", description: "é±¼è™¾å’Œå®¶ç¦½å®¶ç•œç˜¦è‚‰å‡å±ä¹‹ï¼Œä¸ç”¨åŒºåˆ†å“ç§ï¼ˆé±¼è™¾å› ä¸ºå«æ°´ç‡æ›´é«˜ï¼Œç†Ÿåè„±æ°´ç‡æ›´é«˜ï¼Œè›‹ç™½è´¨ç‡ä¼šæ˜¾è‘—ä¸Šå‡ï¼‰"},
            {category: "å¹²å‡€è›‹ç™½è´¨", food: "ç˜¦è‚‰ï¼ˆæŸ´æ„Ÿçš„ç†Ÿè‚‰ï¼‰", carbohydrate: "30%", gi: "", description: "é…±ç‰›è‚‰ã€å¹²æŸ´çš„å¤è‚‰ç­‰ï¼Œå› ä¸ºè„±æ°´ç‡æ›´é«˜ï¼Œè›‹ç™½è´¨ç‡ç»§ç»­å‡é«˜"},
            {category: "å¹²å‡€è›‹ç™½è´¨", food: "ç˜¦è‚‰å¹²", carbohydrate: "40%", gi: "", description: "ç‰›è‚‰å¹²ã€é¸¡è‚‰å¹²ï¼Œå› ä¸ºè„±æ°´ç‡å¾ˆé«˜ï¼Œè›‹ç™½è´¨ç‡å°±å¾ˆé«˜ï¼Œå»ºè®®ç¢³æ°´ç‡ï¼ˆç³–ç‡ï¼‰ä½äº10%ï¼Œå¥½åƒçš„è‚‰å¹²ä¸€èˆ¬é«˜äº30%"},
            {category: "å¹²å‡€è›‹ç™½è´¨", food: "è›‹ç™½ç²‰", carbohydrate: "75%", gi: "", description: "ä¹³æ¸…è›‹ç™½ç²‰çš„ä¸€èˆ¬70-80%ï¼Œåˆ†ç¦»ä¹³æ¸…è›‹ç™½ç²‰ä¸€èˆ¬80-90%ï¼Œç´ é£Ÿè€…å¯ç”¨å¤§è±†åˆ†ç¦»è›‹ç™½ç²‰ï¼ˆæ°¨åŸºé…¸æ¯”ä¾‹è‰¯å¥½ï¼‰"},
            
            {category: "å«æœ‰è›‹ç™½è´¨çš„æ··åˆç‰©", food: "é¸¡è›‹", carbohydrate: "6g/ä¸ª", gi: "", description: "è›‹æ¸…ï¼ˆè›‹ç™½è´¨3g è„‚è‚ª0gï¼‰+è›‹é»„ï¼ˆè›‹ç™½è´¨3g è„‚è‚ª5gï¼‰=å…¨è›‹ï¼ˆè›‹ç™½è´¨6g è„‚è‚ª5gï¼‰"},
            {category: "å«æœ‰è›‹ç™½è´¨çš„æ··åˆç‰©", food: "ç‰›å¥¶", carbohydrate: "10g/250mlç›’", gi: "", description: "250mlç›’è£…çº¯ç‰›å¥¶ï¼ˆç¢³æ°´12g è›‹ç™½è´¨10g è„‚è‚ª9gï¼‰ï¼Œå¯ä»¥ç®€å•è®°å¿†ä¸ºç¢³è›‹è„‚éƒ½æ˜¯10g"},
            {category: "å«æœ‰è›‹ç™½è´¨çš„æ··åˆç‰©", food: "é…¸å¥¶", carbohydrate: "10g/200mlç›’", gi: "", description: "ä»£ç³–é…¸å¥¶å¯ç®€å•ç­‰åŒäºçº¯ç‰›å¥¶ï¼Œç‰¹æ®Šé…¸å¥¶ï¼ˆå«ç³–é…¸å¥¶ä¼šå¤š10g+ç³–ï¼Œå¸Œè…Šé…¸å¥¶è¿‘ä¹é›¶è„‚ï¼‰å¯å‚ç…§è¥å…»è¡¨æ¥è®¡ç®—"},
            {category: "å«æœ‰è›‹ç™½è´¨çš„æ··åˆç‰©", food: "å¹²é»„è±†", carbohydrate: "35%", gi: "", description: "ç¢³æ°´34% è›‹ç™½è´¨35% è„‚è‚ª16%ï¼Œç¢°åˆ°äº†å¯ä»¥åƒä¸€äº›ï¼Œä½†ä¸èƒ½æ›¿ä»£ç˜¦è‚‰ï¼Œå› ä¸ºæ°¨åŸºé…¸æ¯”ä¾‹è¾ƒå·®ï¼Œä¸”é™„å¸¦è¿‡å¤šè„‚è‚ª"},
            {category: "å«æœ‰è›‹ç™½è´¨çš„æ··åˆç‰©", food: "é²œé»„è±†/æ¯›è±†/é’è±†", carbohydrate: "13%", gi: "", description: "ç¢³æ°´11% è›‹ç™½è´¨13% è„‚è‚ª5%ï¼Œç¢°åˆ°äº†å¯ä»¥åƒä¸€äº›ï¼Œä½†ä¸èƒ½æ›¿ä»£ç˜¦è‚‰ï¼Œå› ä¸ºæ°¨åŸºé…¸æ¯”ä¾‹è¾ƒå·®ï¼Œä¸”é™„å¸¦è¿‡å¤šè„‚è‚ª"},
            {category: "å«æœ‰è›‹ç™½è´¨çš„æ··åˆç‰©", food: "è±†çš®/åƒå¼ ", carbohydrate: "35%", gi: "", description: "ç¢³æ°´20% è›‹ç™½è´¨35% è„‚è‚ª20%ï¼Œç¢°åˆ°äº†å¯ä»¥åƒä¸€äº›ï¼Œä½†ä¸èƒ½æ›¿ä»£ç˜¦è‚‰ï¼Œå› ä¸ºæ°¨åŸºé…¸æ¯”ä¾‹è¾ƒå·®ï¼Œä¸”é™„å¸¦è¿‡å¤šè„‚è‚ª"},
            {category: "å«æœ‰è›‹ç™½è´¨çš„æ··åˆç‰©", food: "è±†è…", carbohydrate: "7%", gi: "", description: "ç¢³æ°´3% è›‹ç™½è´¨7% è„‚è‚ª5%ï¼Œç¢°åˆ°äº†å¯ä»¥åƒä¸€äº›ï¼Œä½†ä¸èƒ½æ›¿ä»£ç˜¦è‚‰ï¼Œå› ä¸ºæ°¨åŸºé…¸æ¯”ä¾‹è¾ƒå·®ï¼Œä¸”é™„å¸¦è¿‡å¤šè„‚è‚ª"},
            {category: "å«æœ‰è›‹ç™½è´¨çš„æ··åˆç‰©", food: "è±†æµ†", carbohydrate: "3%", gi: "", description: "ç¢³æ°´1% è›‹ç™½è´¨3% è„‚è‚ª2%ï¼Œçƒ­é‡å¾ˆä½ï¼Œå¯å¿½ç•¥ä¸è®¡ï¼Œä½†è‚¯éº¦ç­‰å¿«é¤åº—çš„é«˜ç”œè±†æµ†çº¦æ”¾äº†20gç³–ï¼Œå…¶å®æ˜¯ä¸€æ¯ç³–æ°´"}
        ];
        let currentCategory = 'all';
        let searchQuery = '';
        let mealPlans = {
            breakfast: { foods: [], targetCarbs: 0, targetProtein: 0 },
            lunch: { foods: [], targetCarbs: 0, targetProtein: 0 },
            dinner: { foods: [], targetCarbs: 0, targetProtein: 0 },
            snack: { foods: [], targetCarbs: 0, targetProtein: 0 }
        };

        function initData() {
            const categories = [...new Set(nutritionData.map(item => item.category))];
            setupCategories(categories);
            renderNutritionCards();
            setupNavigation();
            populateFoodSelectors();
        }

        function setupNavigation() {
            const navBtns = document.querySelectorAll('.nav-btn');
            navBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const targetPage = btn.dataset.page;
                    switchPage(targetPage);
                    
                    navBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                });
            });
        }

        function switchPage(page) {
            const pages = document.querySelectorAll('.page-content');
            pages.forEach(p => p.classList.remove('active'));
            
            const targetPage = document.getElementById(page + '-page');
            if (targetPage) {
                targetPage.classList.add('active');
            }

            if (page === 'calculator') {
                document.querySelector('.meal-calculator').classList.add('active');
            }
        }

        function calculateMealTargets() {
            const dailyCarbs = parseFloat(document.getElementById('dailyCarbs').value);
            const dailyProtein = parseFloat(document.getElementById('dailyProtein').value);
            
            if (!dailyCarbs || !dailyProtein) {
                alert('è¯·è¾“å…¥æ¯æ—¥ç¢³æ°´åŒ–åˆç‰©å’Œè›‹ç™½è´¨éœ€æ±‚é‡');
                return;
            }

            const mealRatios = {
                breakfast: { carbs: 0.20, protein: 0.20 },
                lunch: { carbs: 0.35, protein: 0.30 },
                dinner: { carbs: 0.35, protein: 0.30 },
                snack: { carbs: 0.10, protein: 0.20 }
            };

            Object.keys(mealRatios).forEach(meal => {
                const carbsTarget = Math.round(dailyCarbs * mealRatios[meal].carbs);
                const proteinTarget = Math.round(dailyProtein * mealRatios[meal].protein);
                
                mealPlans[meal].targetCarbs = carbsTarget;
                mealPlans[meal].targetProtein = proteinTarget;
                
                document.getElementById(`${meal}-carbs`).textContent = `${carbsTarget}g`;
                document.getElementById(`${meal}-protein`).textContent = `${proteinTarget}g`;
            });

            document.getElementById('mealsGrid').style.display = 'grid';
        }

        function populateFoodSelectors() {
            const meals = ['breakfast', 'lunch', 'dinner', 'snack'];
            meals.forEach(meal => {
                const select = document.getElementById(`${meal}-food-select`);
                select.innerHTML = '<option value="">é€‰æ‹©é£Ÿç‰©</option>';
                
                nutritionData.forEach((food, index) => {
                    const option = document.createElement('option');
                    option.value = index;
                    option.textContent = `${food.food} (${food.category})`;
                    select.appendChild(option);
                });
            });
        }

        function addFoodToMeal(mealType) {
            const selectId = `${mealType}-food-select`;
            const select = document.getElementById(selectId);
            const foodIndex = parseInt(select.value);
            
            if (isNaN(foodIndex)) {
                alert('è¯·é€‰æ‹©ä¸€ä¸ªé£Ÿç‰©');
                return;
            }

            const food = nutritionData[foodIndex];
            const targetCarbs = mealPlans[mealType].targetCarbs;
            const targetProtein = mealPlans[mealType].targetProtein;
            
            let weight = calculateFoodWeight(food, targetCarbs, targetProtein);
            
            if (weight > 0) {
                const foodItem = {
                    ...food,
                    weight: weight,
                    actualCarbs: calculateNutrient(food.carbohydrate, weight),
                    actualProtein: calculateNutrient(food.carbohydrate, weight, food.category === 'å¹²å‡€è›‹ç™½è´¨' || food.category === 'å«æœ‰è›‹ç™½è´¨çš„æ··åˆç‰©')
                };
                
                mealPlans[mealType].foods.push(foodItem);
                renderMealFoods(mealType);
                updateMealSummary(mealType);
                select.value = '';
            }
        }

        function calculateFoodWeight(food, targetCarbs, targetProtein) {
            const isProteinFood = food.category === 'å¹²å‡€è›‹ç™½è´¨' || food.category === 'å«æœ‰è›‹ç™½è´¨çš„æ··åˆç‰©';
            let rate = parseFloat(food.carbohydrate.replace('%', '').replace('g/', '').replace('g/ä¸ª', '').replace('g/250mlç›’', '').replace('g/200mlç›’', ''));
            
            if (isNaN(rate)) return 100;
            
            let weight;
            if (isProteinFood) {
                if (food.carbohydrate.includes('g/')) {
                    weight = (targetProtein / rate) * (food.carbohydrate.includes('ä¸ª') ? 1 : 100);
                } else {
                    weight = (targetProtein / rate) * 100;
                }
            } else {
                weight = (targetCarbs / rate) * 100;
            }
            
            return Math.round(weight);
        }

        function calculateNutrient(value, weight, isProtein = false) {
            let rate = parseFloat(value.replace('%', '').replace('g/', '').replace('g/ä¸ª', '').replace('g/250mlç›’', '').replace('g/200mlç›’', ''));
            
            if (isNaN(rate)) return 0;
            
            if (value.includes('g/')) {
                if (value.includes('ä¸ª')) {
                    return Math.round((rate * weight));
                } else {
                    return Math.round((rate * weight) / 100);
                }
            } else {
                return Math.round((rate * weight) / 100);
            }
        }

        function renderMealFoods(mealType) {
            const container = document.getElementById(`${mealType}-foods`);
            const foods = mealPlans[mealType].foods;
            
            container.innerHTML = foods.map((food, index) => `
                <div class="selected-food-item">
                    <div>
                        <strong>${food.food}</strong><br>
                        <span class="food-weight">${food.weight}g</span>
                    </div>
                    <button class="remove-food" onclick="removeFoodFromMeal('${mealType}', ${index})">åˆ é™¤</button>
                </div>
            `).join('');
        }

        function removeFoodFromMeal(mealType, index) {
            mealPlans[mealType].foods.splice(index, 1);
            renderMealFoods(mealType);
            updateMealSummary(mealType);
        }

        function updateMealSummary(mealType) {
            const foods = mealPlans[mealType].foods;
            let totalCarbs = 0;
            let totalProtein = 0;
            
            foods.forEach(food => {
                const isProteinFood = food.category === 'å¹²å‡€è›‹ç™½è´¨' || food.category === 'å«æœ‰è›‹ç™½è´¨çš„æ··åˆç‰©';
                
                if (isProteinFood) {
                    totalProtein += calculateNutrient(food.carbohydrate, food.weight);
                    if (food.category === 'å«æœ‰è›‹ç™½è´¨çš„æ··åˆç‰©') {
                        totalCarbs += calculateNutrient(food.carbohydrate, food.weight) * 0.1; // ä¼°ç®—ç¢³æ°´
                    }
                } else {
                    totalCarbs += calculateNutrient(food.carbohydrate, food.weight);
                }
            });
            
            document.getElementById(`${mealType}-current-carbs`).textContent = `${Math.round(totalCarbs)}g`;
            document.getElementById(`${mealType}-current-protein`).textContent = `${Math.round(totalProtein)}g`;
        }

        // çƒ­é‡è®¡ç®—ç›¸å…³å‡½æ•°
        function calculateCalories() {
            const gender = document.getElementById('gender').value;
            const age = parseFloat(document.getElementById('age').value);
            const height = parseFloat(document.getElementById('height').value);
            const weight = parseFloat(document.getElementById('weight').value);
            const goal = document.getElementById('goal').value;
            const cardio = parseFloat(document.getElementById('cardioConsumption').value) || 0;
            const strengthLevel = document.getElementById('strengthLevel').value;

            if (!gender || !age || !height || !weight || !goal) {
                alert('è¯·å¡«å†™æ‰€æœ‰åŸºæœ¬ä¿¡æ¯');
                return;
            }

            // å¯¹äºæœ‰åŠ›é‡è®­ç»ƒçš„ç›®æ ‡ï¼Œæ£€æŸ¥æ˜¯å¦é€‰æ‹©äº†åŠ›è®­æ°´å¹³
            if ((goal === 'bulk' || goal === 'cut-with-training') && !strengthLevel) {
                alert('è¯·é€‰æ‹©åŠ›é‡è®­ç»ƒæ°´å¹³');
                return;
            }

            // è®¡ç®—BMI
            const bmi = calculateBMI(weight, height);
            const bmiStatus = getBMIStatus(bmi);
            
            // è®¡ç®—åŸºç¡€ä»£è°¢ï¼ˆä½¿ç”¨ä¿®æ­£çš„å…¬å¼ï¼‰
            const bmr = calculateBMR(gender, weight, height, age);

            // æ˜¾ç¤ºç»“æœ
            document.getElementById('bmiValue').textContent = bmi.toFixed(1);
            document.getElementById('bmiStatus').textContent = bmiStatus;
            document.getElementById('bmrValue').textContent = Math.round(bmr);
            document.getElementById('calorieResults').style.display = 'block';

            // éšè—æ‰€æœ‰è¯¦ç»†è¾“å…¥åŒºåŸŸ
            // hideAllDetailedInputs();

            // æ ¹æ®ç›®æ ‡æ˜¾ç¤ºç›¸åº”çš„çƒ­é‡è®¡ç®—
            if (goal === 'bulk') {
                showBulkCalculation(bmr, cardio, gender, strengthLevel);
            } else if (goal === 'cut-no-training') {
                showCutNoTrainingCalculation(bmr, cardio);
            } else if (goal === 'cut-with-training') {
                showCutWithTrainingCalculation(bmr, cardio, gender, strengthLevel);
            }
        }

        function getStrengthTrainingCalories(gender, level) {
            const maleCalories = { beginner: 150, intermediate: 200, advanced: 250 };
            const femaleCalories = { beginner: 100, intermediate: 150, advanced: 200 };
            
            return gender === 'male' ? maleCalories[level] : femaleCalories[level];
        }

        function calculateBMI(weight, height) {
            const heightInMeters = height / 100;
            return weight / (heightInMeters * heightInMeters);
        }

        function getBMIStatus(bmi) {
            if (bmi < 18.5) return 'åç˜¦';
            if (bmi < 24) return 'æ­£å¸¸';
            if (bmi < 28) return 'è¶…é‡';
            return 'è‚¥èƒ–';
        }

        function calculateBMR(gender, weight, height, age) {
            if (gender === 'male') {
                return weight * 9.99 + height * 6.25 - age * 4.92 + 5;
            } else {
                return weight * 9.99 + height * 6.25 - age * 4.92 - 161;
            }
        }

        function hideAllDetailedInputs() {
            // ä¸å†éœ€è¦è¯¦ç»†è¾“å…¥åŒºåŸŸ
        }

        function showBulkCalculation(bmr, cardio, gender, strengthLevel) {
            // è®¡ç®—æ— è¿åŠ¨æ€»æ¶ˆè€—å’ŒåŠ›è®­æ¶ˆè€—
            const noExerciseTotal = Math.round(bmr / 0.7);
            const strength = getStrengthTrainingCalories(gender, strengthLevel);
            
            // å¢è‚Œè®¡ç®—ï¼šå¹³è¡¡çƒ­é‡å’Œåº”æ‘„å…¥çƒ­é‡
            const balanceTrainingDay = noExerciseTotal + cardio + strength;
            const balanceRestDay = noExerciseTotal + cardio;
            const intakeTrainingDay = Math.round(balanceTrainingDay * 0.84);
            const intakeRestDay = Math.round(balanceRestDay * 0.84);

            showBreakdown('å¢è‚Œçƒ­é‡åˆ†é…', [
                { label: 'åŸºç¡€ä»£è°¢', value: Math.round(bmr) },
                { label: 'æ— è¿åŠ¨æ€»æ¶ˆè€—', value: noExerciseTotal },
                { label: 'æœ‰æ°§è®­ç»ƒæ¶ˆè€—', value: cardio },
                { label: 'åŠ›é‡è®­ç»ƒæ¶ˆè€—', value: strength },
                { label: 'å¹³è¡¡çƒ­é‡ï¼ˆåŠ›è®­æ—¥ï¼‰', value: balanceTrainingDay },
                { label: 'å¹³è¡¡çƒ­é‡ï¼ˆä¼‘æ¯æ—¥ï¼‰', value: balanceRestDay },
                { label: 'åº”æ‘„å…¥çƒ­é‡ï¼ˆåŠ›è®­æ—¥ï¼‰', value: intakeTrainingDay, isIntake: true },
                { label: 'åº”æ‘„å…¥çƒ­é‡ï¼ˆä¼‘æ¯æ—¥ï¼‰', value: intakeRestDay, isIntake: true }
            ]);
        }

        function showCutNoTrainingCalculation(bmr, cardio) {
            // å‡è„‚æ— åŠ›é‡è®­ç»ƒ
            const noExerciseTotal = Math.round(bmr / 0.7);
            const balanceCalories = noExerciseTotal + cardio;
            const intakeCalories = Math.round(balanceCalories * 0.64);

            showBreakdown('å‡è„‚çƒ­é‡åˆ†é…ï¼ˆæ— åŠ›é‡è®­ç»ƒï¼‰', [
                { label: 'åŸºç¡€ä»£è°¢', value: Math.round(bmr) },
                { label: 'æ— è¿åŠ¨æ€»æ¶ˆè€—', value: noExerciseTotal },
                { label: 'æœ‰æ°§è®­ç»ƒæ¶ˆè€—', value: cardio },
                { label: 'å¹³è¡¡çƒ­é‡', value: balanceCalories },
                { label: 'åº”æ‘„å…¥çƒ­é‡', value: intakeCalories, isIntake: true }
            ]);
        }

        function showCutWithTrainingCalculation(bmr, cardio, gender, strengthLevel) {
            // è®¡ç®—æ— è¿åŠ¨æ€»æ¶ˆè€—å’ŒåŠ›è®­æ¶ˆè€—
            const noExerciseTotal = Math.round(bmr / 0.7);
            const strength = getStrengthTrainingCalories(gender, strengthLevel);
            
            // å‡è„‚æœ‰åŠ›è®­è®¡ç®—ï¼šå¹³è¡¡çƒ­é‡å’Œåº”æ‘„å…¥çƒ­é‡
            const balanceTrainingDay = noExerciseTotal + cardio + strength;
            const balanceRestDay = noExerciseTotal + cardio;
            const intakeTrainingDay = Math.round(balanceTrainingDay * 0.64);
            const intakeRestDay = Math.round(balanceRestDay * 0.64);

            showBreakdown('å‡è„‚çƒ­é‡åˆ†é…ï¼ˆæœ‰åŠ›é‡è®­ç»ƒï¼‰', [
                { label: 'åŸºç¡€ä»£è°¢', value: Math.round(bmr) },
                { label: 'æ— è¿åŠ¨æ€»æ¶ˆè€—', value: noExerciseTotal },
                { label: 'æœ‰æ°§è®­ç»ƒæ¶ˆè€—', value: cardio },
                { label: 'åŠ›é‡è®­ç»ƒæ¶ˆè€—', value: strength },
                { label: 'å¹³è¡¡çƒ­é‡ï¼ˆåŠ›è®­æ—¥ï¼‰', value: balanceTrainingDay },
                { label: 'å¹³è¡¡çƒ­é‡ï¼ˆä¼‘æ¯æ—¥ï¼‰', value: balanceRestDay },
                { label: 'åº”æ‘„å…¥çƒ­é‡ï¼ˆåŠ›è®­æ—¥ï¼‰', value: intakeTrainingDay, isIntake: true },
                { label: 'åº”æ‘„å…¥çƒ­é‡ï¼ˆä¼‘æ¯æ—¥ï¼‰', value: intakeRestDay, isIntake: true }
            ]);
        }

        function showBreakdown(title, items) {
            let html = `<div class="breakdown-title">${title}</div>`;
            
            items.forEach(item => {
                const isIntake = item.isIntake;
                const itemClass = isIntake ? 'intake' : '';
                html += `
                    <div class="breakdown-item ${itemClass}">
                        <span class="breakdown-label">${item.label}</span>
                        <span class="breakdown-value">${item.value}å¤§å¡</span>
                    </div>
                `;
            });

            document.getElementById('calorieBreakdown').innerHTML = html;
        }

        function calculateDetailedCalories() {
            // ä¸å†éœ€è¦è¯¦ç»†è¾“å…¥é‡æ–°è®¡ç®—åŠŸèƒ½
        }

        function calculateCutWithTraining() {
            // ä¸å†éœ€è¦è¯¦ç»†è¾“å…¥é‡æ–°è®¡ç®—åŠŸèƒ½
        }

        function setupCategories(categories) {
            const categoryTabs = document.getElementById('categoryTabs');
            const allButton = categoryTabs.querySelector('[data-category="all"]');
            
            categories.forEach(category => {
                const button = document.createElement('button');
                button.className = 'category-tab';
                button.dataset.category = category;
                button.textContent = category;
                button.addEventListener('click', () => filterByCategory(category, button));
                categoryTabs.appendChild(button);
            });
            
            allButton.addEventListener('click', () => filterByCategory('all', allButton));
        }

        function filterByCategory(category, button) {
            currentCategory = category;
            document.querySelectorAll('.category-tab').forEach(tab => tab.classList.remove('active'));
            button.classList.add('active');
            renderNutritionCards();
        }

        function filterData() {
            return nutritionData.filter(item => {
                const matchesCategory = currentCategory === 'all' || item.category === currentCategory;
                const matchesSearch = searchQuery === '' || 
                    item.food.toLowerCase().includes(searchQuery.toLowerCase()) ||
                    item.category.toLowerCase().includes(searchQuery.toLowerCase());
                return matchesCategory && matchesSearch;
            });
        }

        function renderNutritionCards() {
            const container = document.getElementById('nutritionContainer');
            const filteredData = filterData();
            
            if (filteredData.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="12"></line>
                            <line x1="12" y1="16" x2="12.01" y2="16"></line>
                        </svg>
                        <h3>æš‚æ— æ•°æ®</h3>
                        <p>æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„é£Ÿç‰©ä¿¡æ¯</p>
                    </div>
                `;
                return;
            }
            
            const groupedData = {};
            filteredData.forEach(item => {
                if (!groupedData[item.category]) {
                    groupedData[item.category] = [];
                }
                groupedData[item.category].push(item);
            });
            
            let html = '';
            Object.keys(groupedData).forEach(category => {
                if (currentCategory === 'all') {
                    html += `<div class="category-section">
                        <h2 class="category-title">${category}</h2>`;
                }
                
                html += `<table class="nutrition-table">
                    <thead>
                        <tr>
                            <th>åˆ†ç±»</th>
                            <th>é£Ÿç‰©åç§°</th>
                            <th>${category === 'è›‹ç™½è´¨' ? 'è›‹ç™½è´¨å«é‡' : 'ç¢³æ°´åŒ–åˆç‰©'}</th>
                            <th>GIæŒ‡æ•°</th>
                            <th>è¯¦ç»†è¯´æ˜</th>
                        </tr>
                    </thead>
                    <tbody>`;
                
                groupedData[category].forEach(item => {
                    html += `
                        <tr>
                            <td class="category-cell">${item.category}</td>
                            <td class="food-name-cell">${item.food}</td>
                            <td class="carb-rate-cell">${item.carbohydrate}</td>
                            <td class="gi-cell">
                                ${item.gi ? `<span class="gi-badge gi-${item.gi}">${item.gi}</span>` : '-'}
                            </td>
                            <td class="description-cell">
                                ${item.description ? item.description.replace(/\n/g, '<br>') : '-'}
                            </td>
                        </tr>
                    `;
                });
                
                html += '</tbody></table>';
                
                if (currentCategory === 'all') {
                    html += '</div>';
                }
            });
            
            container.innerHTML = html;
        }

        document.getElementById('searchInput').addEventListener('input', (e) => {
            searchQuery = e.target.value;
            renderNutritionCards();
        });

        initData();
    </script>
</body>
</html>